/* alv-ch-ng - 0.2.0 - 2015-01-13 - Copyright (c) 2015 Informatik der Arbeitslosenversicherung; */
!function(){"use strict";var a=angular.module("alv-ch-ng.ui-core",[]);a.directive("message",function(){return{priority:10,restrict:"E",template:'<div class="alert" ng-transclude></div>',transclude:!0,replace:!0,link:function(a,b,c){var d="info";void 0!==c.messageSeverity&&(d=c.messageSeverity),b.addClass("alert-"+d),"true"===c.messageDismissable&&(b.addClass("alert-dismissable"),b.prepend(c.messageDismissableText?angular.element('<button type="button" class="close text-close" data-dismiss="alert" aria-hidden="true">'+c.messageDismissableText+"</button>"):angular.element('<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>')))}}}),a.directive("alert",function(){return{priority:10,restrict:"E",template:'<div class="alert" ng-transclude></div>',transclude:!0,replace:!0,link:function(a,b,c){var d="info";void 0!==c.alertSeverity&&(d=c.alertSeverity),b.addClass("alert-"+d),"true"===c.alertDismissable&&(b.addClass("alert-dismissable"),b.prepend(c.alertDismissableText?angular.element('<button type="button" class="close text-close" data-dismiss="alert" aria-hidden="true">'+c.alertDismissableText+"</button>"):angular.element('<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>')))}}}),a.directive("button",function(){return{priority:10,restrict:"E",link:function(a,b,c){b.addClass("btn"),b.addClass("btn-default"),"true"===c.primary&&b.addClass("btn-primary")}}}),a.directive("badge",function(){return{priority:10,restrict:"E",template:'<span class="badge" ng-transclude></span>',transclude:!0,replace:!0,link:function(a,b,c){"right"===c.badgeAlign&&b.addClass("pull-right"),c.badgeSquared&&b.addClass("squared")}}}),a.directive("badge",function(){return{priority:10,restrict:"A",replace:!0,link:function(a,b,c){var d=angular.element('<span class="badge">'+c.badge+"</span>");"right"===c.badgeAlign&&d.addClass("pull-right"),c.badgeSquared&&b.addClass("squared"),b.append(d)}}}),a.directive("marker",function(){return{priority:10,restrict:"E",template:'<span class="label" ng-transclude></span>',transclude:!0,replace:!0,link:function(a,b,c){b.addClass(c.markerSeverity?"label-"+c.markerSeverity:"label-default"),c.markerSquared&&b.addClass("squared")}}}),a.directive("marker",function(){return{priority:10,restrict:"A",replace:!0,link:function(a,b,c){var d=angular.element('<span class="label">'+c.marker+"</span>");d.addClass(void 0===c.markerSeverity?"label-default":"label-"+c.markerSeverity),c.markerSquared&&d.addClass("squared"),b.append(d)}}}),a.directive("glyph",function(){return{priority:10,restrict:"E",template:'<span class="glyphicon" ng-transclude></span>',transclude:!0,replace:!0,link:function(a,b,c){b.addClass(void 0===c.icon?"glyphicon-warning-sign":"glyphicon-"+c.icon)}}}),a.directive("glyphIcon",function(){return{priority:10,restrict:"A",replace:!0,link:function(a,b,c){var d=angular.element('<span class="glyphicon"></span>');d.addClass(c.glyphIcon?"glyphicon-"+c.glyphIcon:"glyphicon-warning-sign"),"right"===c.glyphAlign?b.append(d):b.prepend(d)}}}),a.directive("adminSymbol",function(){return{priority:10,restrict:"A",replace:!0,link:function(a,b,c){var d=angular.element('<span class="icon" aria-hidden="true"></span>');d.addClass(c.adminSymbol?"icon--"+c.adminSymbol:"icon--exclam"),"right"===c.glyphAlign?b.append(d):b.prepend(d)}}}),a.directive("collapsible",function(){return{priority:10,restrict:"A",replace:!0,link:function(a,b,c){b.addClass("pointer"),b.attr("data-toggle","collapse"),b.attr("data-target",c.collapsible)}}}),a.directive("grid",["UiRenderService",function(a){return{restrict:"EA",priority:110,controller:function(a){a.columns=[],this.addColumn=function(b){a.columns.push(b)}},link:function(b,c,d){"show-grid"===d.grid&&c.addClass(d.grid),b.$watch("columns",function(b){var d,e,f,g,h;for(g=0,h=angular.element('<div class="row"></div>'),f=b.length,e=0;f>=e;e++)e===f?c.append(h):(d=b[e],g+=parseInt(d.column),h.append(d.element),(g>=a.getGridDefaultColumns()||d.last===!0)&&(c.append(h),g=0,h=angular.element('<div class="row"></div>')))})}}}]),a.directive("column",["UiRenderService",function(a){return{priority:100,restrict:"A",require:"^grid",replace:!0,link:function(b,c,d,e){if(d.column){var f=+d.column,g=!1,h="col-"+a.getGridDefaultDevice()+"-";c.addClass(h+f),void 0!==d.columnOffset&&(c.addClass(h+"offset-"+d.columnOffset),f+=parseInt(d.columnOffset)),void 0!==d.columnPush&&c.addClass(h+"push-"+d.columnPush),void 0!==d.columnPull&&c.addClass(h+"pull-"+d.columnPull),"true"===d.columnLast&&(g=!0),e.addColumn({column:f,last:g,element:c})}}}}]),a.directive("releaseNote",function(){return{restrict:"A",replace:!0,link:function(a,b){b.addClass("pointer"),b.click(function(){b.parent().toggleClass("show"),a.$broadcast("alv-ch-ng:dom-manipulate",{id:b.attr("id"),event:"releaseNote:click",show:b.parent().hasClass("show")})})}}}),a.directive("sidebar",function(){return{restrict:"C",link:function(a,b){a.$on("$viewContentLoaded",function(){var a=b.next(".content").outerHeight(!0)||b.prev(".content").outerHeight(!0);b.css("height",a),b.attr("style","height: "+a+"px !important;")})}}}),a.directive("sidebarToggle",["$document",function(a){return{restrict:"E",replace:!0,templateUrl:"template/core/sidebar-toggle.html",link:function(b,c){c.addClass("ng-hide"),c.removeClass("ng-show"),a.find(".sidebar").length&&(c.addClass("ng-show"),c.removeClass("ng-hide")),b.$on("$routeChangeSuccess",function(){c.addClass("ng-hide"),c.removeClass("ng-show"),a.find(".sidebar").length&&(c.addClass("ng-show"),c.removeClass("ng-hide"))})}}}]),a.directive("toc",["$rootScope","$location","$anchorScroll",function(a,b,c){var d=function(a,b){var c=angular.element(b),d=[];return angular.forEach(c,function(a){var b=angular.element(a),c={};c.title=b.text(),c.translate=b.attr("translate")||!1,c.id=b.attr("id")||b.text().toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-"),b.attr("id",c.id),b.addClass("toc-scrollable"),d.push(c)}),d};return{priority:20,restrict:"E",replace:!0,templateUrl:"template/core/toc.html",link:function(e,f,g){var h=g.selector||".toc-item";e.tocs=d(f,h),a.$on("$translateChangeSuccess",function(){e.tocs=d(f,h)}),e.scrollToc=function(a){c.yOffset=0;var d=parseInt($("#"+a).css("margin-top"))+parseInt($("#"+a).css("padding-top")),g=$("body").find("*[scroll-fix]")||!1;angular.forEach(g,function(a){var b=angular.element(a);void 0===b.attr("scroll-fix-bottom")&&b.attr("id")!==f.attr("id")&&b.attr("id")!==f.parent().attr("id")&&(d+=b.outerHeight(!0))}),c.yOffset=d,c(),b.hash(a),e.$broadcast("alv-ch-ng:dom-manipulate",{id:f.attr("id"),event:"toc:scrollToc"})}}}}]),a.provider("UiConfigService",function(){function a(a){if(!a)throw new Error("Param 'config' must not be empty!");jQuery.extend(!0,m,a)}function b(){return m.labelWidth}function c(){return m.commonSubmit}function d(){return m.commonCancel}function e(){return m.classPrefix}function f(){return m.titleSelect}function g(){return m.gridDefaultDevice}function h(){return m.gridDefaultColumns}function i(){return m.pageNavigationDefaultColumns}function j(){return m.scrollUp}function k(){return m.scrollUpBottom}function l(){return m.scrollUpI18n}var m={labelWidth:2,classPrefix:"alv",gridDefaultDevice:"md",gridDefaultColumns:12,pageNavigationDefaultColumns:2,scrollUp:300,scrollUpBottom:20,scrollUpI18n:"common_i18n_scrollToTop"};return{setConfig:a,$get:function(){return{getLabelWidth:b,getCommonSubmit:c,getCommonCancel:d,getClassPrefix:e,getTitleSelect:f,getGridDefaultDevice:g,getGridDefaultColumns:h,getPageNavigationDefaultColumns:i,getScrollUp:j,getScrollUpBottom:k,getScrollUpI18n:l}}}}),a.factory("UiRenderService",["UiConfigService",function(a){function b(b){var c="col-"+a.getGridDefaultDevice()+"-";return"undefined"==typeof b&&(b=!1),b?c+"offset-"+a.getLabelWidth():c+a.getLabelWidth()}function c(){var b=12-a.getLabelWidth();return angular.element('<div class="col-'+a.getGridDefaultDevice()+"-"+b+'"></div>')}function d(){var b=12-a.getLabelWidth();return'<div class="col-'+a.getGridDefaultDevice()+"-"+b+'"></div>'}function e(){return a.getCommonSubmit()}function f(){return a.getCommonCancel()}function g(b){return a.getClassPrefix()+"-"+b}function h(){return a.getTitleSelect()}function i(){return a.getGridDefaultDevice()}function j(){return a.getGridDefaultColumns()}function k(){return a.getPageNavigationDefaultColumns()}function l(a){return angular.element('<span class="help-block" translate="'+a+'"></span>')}function m(){return a.getScrollUp()}function n(){return a.getScrollUpBottom()}function o(){return a.getScrollUpI18n()}return{getFormGridLabelClass:b,getFormGridContent:c,getFormGrid:d,getCommonSubmit:e,getCommonCancel:f,getClassPrefix:g,getTitleSelect:h,getGridDefaultDevice:i,getGridDefaultColumns:j,getHelptext:l,getPageNavigationDefaultColumns:k,getScrollUp:m,getScrollUpBottom:n,getScrollUpI18n:o}}])}(),angular.module("alv-ch-ng.ui-core").run(["$templateCache",function(a){"use strict";a.put("template/core/sidebar-toggle.html",'<button type="button" class="sidebar-toggle" data-toggle="collapse" data-target=".sidebar">\n    <span class="sr-only">Toggle sidebar</span>\n    <span class="icon-bar"></span>\n    <span class="icon-bar"></span>\n    <span class="icon-bar"></span>\n</button>'),a.put("template/core/toc.html",'<div id="toc">\n    <span translate="common_i18n_contents"></span>\n    <ul class="toc-list">\n        <li ng-repeat="toc in tocs" spy="{{toc.id}}">\n            <a ng-click="scrollToc(toc.id)" ng-class="{\'current\': toc.id===currentSpy }">\n                <span ng-hide="toc.translate">{{toc.title}}</span>\n                <span ng-show="toc.translate" translate="{{toc.translate}}"></span>\n            </a>\n        </li>\n    </ul>\n</div>')}]);