/* alv-ch-ng - 0.2.0 - 2015-01-13 - Copyright (c) 2015 Informatik der Arbeitslosenversicherung; */
!function(){"use strict";var a=angular.module("alv-ch-ng.ui-navigation",["alv-ch-ng.ui-core"]);a.controller("NavigationCtrl",["NavigationService","$scope","$location",function(a,b,c){b.navigateTo=function(b){a.setCurrentItem(b),c.path(b.location)}}]),a.provider("NavigationService",function(){function a(a){b(a),q=a,r=q[0],s=k(r,[])}function b(a){var b=function(){throw"Illegal model to set."};if(a||b(),angular.isArray(a)){0===a.length&&b();for(var d=0;d<a.length;d++){var e=a[d];c(e)}q=a}else b()}function c(a){var b=function(){throw"Illegal model to set."};if(a&&a.id||b(),a.children&&a.children.length>0)for(var d=0;d<a.children.length;d++)a.children[d].parent=a,c(a.children[d])}function d(){return q}function e(){return q.length>0?q[0].children:[]}function f(){return q.length>0?q[0]:!1}function g(){return r}function h(a){if(!a)throw"item must not be null.";if(!a.id)throw"param item must provide an id attribute.";r=a,s=k(a,[]),p()&&(t.row=!0)}function i(){return g().children}function j(){return s}function k(a,b){return b.unshift(a),a.parent?k(a.parent,b):b}function l(a){return m(a,r)}function m(a,b){return a.id===b.id?!0:!1}function n(a){if(!a)return!1;for(var b=0;b<s.length;b++)if(m(a,s[b]))return!0;return!1}function o(a){if(!a)return!1;for(var b=0;b<r.children.length;b++)if(m(a,r.children[b]))return!0;return!1}function p(){var a=!1;return void 0!==i()&&i().length>0&&!m(g(),f())&&(a=!0),a}var q=[],r=null,s=[],t={columns:0,row:!1};this.setModel=a,this.getModel=d,this.$get=function(){return{getModel:d,getRootItem:f,getTopLevelItems:e,getBreadCrumbs:j,getCurrentItem:g,setCurrentItem:h,isCurrentItem:l,isOnCurrentPath:n,isChildOfCurrent:o,hasChildrenItems:p,getChildrenItems:i,pageNavigation:t}}}),a.directive("globalNavigation",["NavigationService",function(a){return{restrict:"EA",priority:20,templateUrl:"template/navigation/global-navigation.html",replace:!0,link:function(b){b.isCurrentItem=a.isCurrentItem,b.getTopLevelItems=a.getTopLevelItems}}}]),a.directive("pageNavigation",["NavigationService",function(a){return{restrict:"EA",priority:20,templateUrl:"template/navigation/page-navigation.html",replace:!0,link:function(b){b.isCurrentItem=a.isCurrentItem,b.getChildrenItems=a.getChildrenItems,b.hasChildrenItems=a.hasChildrenItems}}}]),a.directive("breadcrumbs",["NavigationService",function(a){return{restrict:"EA",priority:10,templateUrl:"template/navigation/breadcrumb.html",replace:!0,link:function(b){b.isCurrentItem=a.isCurrentItem,b.getBreadCrumbs=a.getBreadCrumbs}}}])}(),angular.module("alv-ch-ng.ui-navigation").run(["$templateCache",function(a){"use strict";a.put("template/navigation/breadcrumb.html",'<ol class="breadcrumb" ng-controller="NavigationCtrl">\n    <li ng-repeat="breadcrumb in getBreadCrumbs() " ng-class="{active: isCurrentItem(breadcrumb) }">\n        <a ng-click="navigateTo(breadcrumb)" ng-hide="isCurrentItem(breadcrumb)" class="pointer">{{breadcrumb.text}}</a>\n        <span ng-show="isCurrentItem(breadcrumb)">{{breadcrumb.text}}</span>\n    </li>\n</ol>'),a.put("template/navigation/global-navigation.html",'<ul class="nav navbar-nav" ng-controller="NavigationCtrl">\n    <li ng-repeat="nav in getTopLevelItems() " ng-class="{active: isCurrentItem(nav) }">\n        <a ng-click="navigateTo(nav)" class="pointer">{{nav.text}}</a>\n    </li>\n</ul>'),a.put("template/navigation/page-navigation.html",'<ul class="nav sidebar" id="page-navigation" ng-controller="NavigationCtrl">\n    <li ng-repeat="nav in getChildrenItems() " ng-class="{active: isCurrentItem(nav) }">\n        <a ng-click="navigateTo(nav)" class="pointer">{{nav.text}}</a>\n    </li>\n</ul>'),a.put("template/navigation/page-scroll-navigation.html","<!DOCTYPE html>\n<html>\n<head>\n    <title></title>\n</head>\n<body>\n\n</body>\n</html>")}]);